# Reduce 用户手册（Android）

## 1. 应用用途
Reduce 用于限制“刷短视频”行为。你可以设置每日限制时长和限制理由；超时后会弹出遮罩，5 秒倒计时后自动回到桌面。

## 2. 安装与运行
1. 安装包路径：`android/app/build/outputs/apk/release/app-release.apk`（双击项目根目录的 `build-release.bat` 即可构建）
2. 安装后首次打开，按页面按钮完成授权：
   - 使用情况访问
   - 悬浮窗权限
   - 无障碍服务
   - 关闭电池优化限制（建议）

## 3. 核心设置
1. 每日限制分钟数：`0` 表示当天完全禁刷，范围 `0-240`。
2. 限制理由：支持预设和自定义。
3. 只在竖屏计入：开启后仅竖屏计时。
4. 识别模式：
   - 开启“仅按短视频行为识别（推荐）”：按滚动等行为判定，并带目标应用兜底。
   - 关闭后走“目标应用匹配”：必须填写目标应用（应用名或包名）。
5. 目标应用支持预设下拉（抖音、快手、小红书、B站、微博、YouTube、TikTok 等）。

## 4. 推荐使用流程
1. 设置时长、理由、目标应用后点击“保存设置”。
2. 点击“启用限制”。
3. 正常使用手机；到达阈值后会触发拦截。

## 5. v0.9.0 变化摘要
- 修复连续刷同一 App 时偶发不触发的问题（前台识别增加多重兜底）。
- 修复返回桌面/任务切换后重复弹遮罩的问题（冷却 + 同包名抑制）。
- 修复配置页面被误拦截的问题（Reduce 前台时暂停拦截）。
- 新增电池优化豁免状态与入口，提升 vivo 等机型稳定性。
- UI 分区卡片化，图标更新为新动漫风版本。

## 6. 常见问题
- 为什么要“解除应用限制/电池优化”？
  - 因为本应用需要长期后台监控。部分系统（尤其 vivo）会清理后台服务，不关闭限制会导致计时不稳定。
- 为什么没有直接强制杀死目标 App？
  - 普通 Android 权限下无法可靠强杀第三方应用，当前采用“遮罩拦截 + 回桌面”方案。
